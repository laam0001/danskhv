
<div
  x-data="{ showmenu: false, isScrollingDown: false }"
  class="bg-red-200 p-0 w-full"
  style="z-index: 3;"
>
  <!-- Navbar -->
  <div 
  id="navbar" 
  x-bind:class="isScrollingDown ? 'hidden-navbar' : (showmenu ? 'border-transparent' : 'border-b-2 border-red-400')" 
  class="flex lg:text-2xl flex-row justify-between bg-red-200 transition-all duration-300"
>
    <a href="/">
        <div
        id="logo"
        class="h-[48px] w-[190px] bg-[url('/logo.svg')] hover:bg-[url('/logo-hovered.svg')] bg-cover transition duration-400 ease-in-out m-6">
    </div>
    </a>
    
    <nav id="desktopmenu" class="hidden lg:block p-8">
      <ul class="flex flex-row gap-8 mt-1 barlow-condensed-bold">
       
        <li class="lg:text-lg uppercase text-text-header hover:underline hover:underline-offset-8 decoration-2 font-sans">
          <a href="#">Ungdom</a>
        </li>

        <li class="lg:text-lg uppercase text-text-header hover:underline hover:underline-offset-8 decoration-2 font-sans">
          <a href="#">Sikkerhed</a>
        </li>

        <li class="lg:text-lg uppercase text-text-header hover:underline hover:underline-offset-8 decoration-2 font-sans">
          <a href="#">Hestevelfærd</a>
        </li>

        <li class="lg:text-lg uppercase text-text-header hover:underline hover:underline-offset-8 decoration-2 font-sans">
          <a href="#">Hestejere</a>
        </li>

        <li class="lg:text-lg uppercase text-text-header hover:underline hover:underline-offset-8 decoration-2 font-sans">
          <a href="/scrollytelling">Kampagne</a>
        </li>
      <li>
          <button>
            <a href="/#">
              <div
              id="search"
              class="mt-1 w-[20px] h-[20px] bg-[url('icons/search.svg')] bg-cover transition duration-400 ease-in-out">
            </div>
            </a>
          </button>
        </li>  
      </ul>
    </nav>

    <!-- Burger Menu Button (for Mobile) -->
    <button
      id="burgermenu"
      class="lg:hidden text-xl p-6 text-text-header font-sans hover:underline hover:underline-offset-8 decoration-2"
      x-on:click="showmenu = !showmenu">Menu</button>
  </div>

  <!-- Mobile Menu (Hidden until clicked) -->
  <nav
    id="mobilmenu"
    class="flex flex-col content-center pt-4 bg-red-200 "
    x-show="showmenu"
    x-transition:enter="transition-opacity ease-in-out duration-500"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition-opacity ease-in-out duration-500"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    x-on:click="showmenu = false"
    x-on:click.outside="showmenu = false"
  >
    <ul class="border-b-2 border-red-400 pt-20 pb-4">
      <li class="text-center text-xl py-2 pt-1 text-text-header hover:underline hover:underline-offset-8 decoration-2" x-transition:enter-delay="200">
        <a href="#">Ungdom</a>
      </li>

        <li
          class="text-center text-xl py-2 pt-1 text-text-header hover:underline hover:underline-offset-8 decoration-2"
          x-transition:enter-delay="300"
        >
          <a href="#">Sikkerhed</a>
        </li>
        <li
          class="text-center text-xl py-2 pt-1 text-text-header hover:underline hover:underline-offset-8 decoration-2"
          x-transition:enter-delay="400"
        >
          <a href="#">Hestevelfærd</a>
        </li>
        <li
          class="text-center text-xl py-2 pt-1 text-text-header hover:underline hover:underline-offset-8 decoration-2"
          x-transition:enter-delay="400"
        >
          <a href="#">Hesteejere</a>
        </li>
        <li
          class="text-center text-xl py-2 pt-1 text-text-header hover:underline hover:underline-offset-8 decoration-2"
          x-transition:enter-delay="200"
        >
          <a href="/scrollytelling">Kampagne</a>
        </li>
      </li>
      </ul>
    </nav>
  </div>


<style>
  /* Standard header positionering */
#navbar {
  position: fixed; /* Fastgør navbaren til toppen */
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 1000; /* Sørg for at navbaren er over andre elementer */
  transition: transform 0.3s ease-in-out; /* Glat transition */
}

/* Skjult navbar */
.hidden-navbar {
  transform: translateY(-100%); /* Skjul navbaren ved at flytte den opad */
}

</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    let lastScrollTop = 0; // Holder styr på sidste scroll position
    const navbar = document.querySelector("#navbar");
    
    // Tilføj scroll event listener
    window.addEventListener("scroll", function () {
      let currentScroll = window.pageYOffset || document.documentElement.scrollTop;

      // Hvis vi scroller ned
      if (currentScroll > lastScrollTop) {
        // Skjul headeren
        navbar.classList.add("hidden-navbar");
      } else {
        // Hvis vi scroller op, vis headeren
        navbar.classList.remove("hidden-navbar");
      }

      // Opdater sidste scroll position
      lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // Forhindrer at scrollen går negativt
    });
  });
</script>
