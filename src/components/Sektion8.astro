---
import { Image } from "astro:assets";
import hat from "/public/hat.svg";
---

<!-- Ida kode - Kvinde kaster hat – Sidewaysscroll -->
<!-- 
<section class="bg-blue-200 min-h-screen" id="lydeffekter" x-data="">
    <audio x-ref="trykforatafspillelyd" loop autoplay class="hidden">
      <source src="" type="audio/mp3">
    </audio>  
    <div>
        <div class="overflow-hidden bg-cover min-h-screen">
        <div class="sticky top-0 left-0 w-full h-screen bg-cover bg-center walkinview flex items-center justify-center">
            <div>
                <Image class="absolute top-1/3 left-1/3 right-0 bg-cover bg-center z-0 my-0 crossfadebottomimg animate-[spinning_5s_ease-in-out_infinite]" src={hat} alt="Krig og forræderi"></Image>
            </div>
                <script is:inline src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
                <dotlottie-player 
                src="https://lottie.host/83d8904c-370c-4ddc-bdfa-e9d0a0a8e57c/yCMEE4BUzg.lottie" 
                background="transparent" 
                speed="1" 
                style="width: 100%; height: 100%;" 
                loop autoplay>
        </div>
      
  
      <div class="relative justify-end min-h-screen">
        <div class="flex flex-col w-full md:w-1/2 h-full justify-center gap-4 p-4 bg-black/80 text-white">
            <div class="bg-black-100/80 text-white-100 text-[18px] p-10 mb-[800px]">
            <p class="text-center font-display">
              Og så er der hende her. Hun kaster sin hat op i luften. <br><br> Smilene, latteren, glæden. Det er ikke bare et løb. Det er en fest. En hyldest til traditionen.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
-->


<!-- Ny kode -->

<section id="section4" class="bg-red-100 pt-10 lg:-mt-[800px]">

  <!-- Mobil video -->
  <div class="lg:hidden videocontainer sticky top-[10%] w-full h-screen">
    <video muted loop playsinline class="w-full" id="videofil-mobil3">
        <source src="https://lna-mediedesign.dk/hat-mobile.mp4" type="video/mp4">
        <source src="https://lna-mediedesign.dk/hat-mobile.webm" type="video/webm">
    </video>
  </div>
  <div class="h-screen videoscroller3"></div>

  <!-- Desktop video -->
  <div class="hidden lg:block videocontainer sticky top-[0%] w-full">
    <video muted autoplay loop class="w-full" id="videofil-desktop3">
        <source src="https://lna-mediedesign.dk/hat-desktop.mp4" type="video/mp4">
        <source src="https://lna-mediedesign.dk/hat-desktop.webm" type="video/webm">
    </video>
  </div>
  <div class="h-screen videoscrollerdesktop3"></div>

  <div class="relative flex justify-end"><!-- relative elementet -->
      <div class="flex flex-col w-full md:w-1/2 h-full justify-center gap-4 p-4 lg:mx-32 lg:w-[500px]">
          <div class="bg-black-100/80 text-white-100 text-[18px] p-10 mb-96" >
              <p class="text-center">Og så er der hende.</p>
          </div>

          <div class="bg-black-100/80 text-white-100 text-[18px] p-10 mb-96">
            <p class="text-center">Hun kaster sin hat op i luften. </p>
        </div>

        <div class="bg-black-100/80 text-white-100 text-[18px] p-10 mb-96">
          <p class="text-center">Smilene, latteren, glæden. </p>
      </div>

      <div class="bg-black-100/80 text-white-100 text-[18px] p-10 mb-96">
        <p class="text-center">Det er ikke bare et løb. <br> Det er en fest. <br> En hyldest til traditionen.</p>
    </div>

      </div>
  </div>
  <div class="h-[80vh]"></div>

</section>



<script>
  import { scroll } from "motion"; 
  
  /* Scroll scrubber - Mobil */
const scrubbervideomobil = document.querySelector("#videofil-mobil3");
scrubbervideomobil.pause();	
scroll(
  ({ y }) => {
  if (!scrubbervideomobil.readyState) return;
  scrubbervideomobil.currentTime = scrubbervideomobil.duration * y.progress;
  },
  {
  target: document.querySelector(".videoscroller3"),
  offset: ["start end", "end start"]
  }
);


  /* Scroll scrubber - Desktop */
const scrubbervideodesktop = document.querySelector("#videofil-desktop3");
scrubbervideodesktop.pause();	
scroll(
  ({ y }) => {
  if (!scrubbervideodesktop.readyState) return;
  scrubbervideodesktop.currentTime = scrubbervideodesktop.duration * y.progress;
  },
  {
  target: document.querySelector(".videoscrollerdesktop3"),
  offset: ["start end", "end start"]
  }
);

</script>
 