---
import MainLayout from "../layouts/MainLayout.astro";

import { Image } from "astro:assets";
import publikumMobile from "/public/publikum-mobil.webp";
import publikum from "/public/publikum.webp";
import publikumStorMobile from "/public/publikum-stor-mobil.webp";
import publikumStor from "/public/publikum-stor.webp";
import publikumBilletMobile from "/public/publikum-billet-mobil.webp";
import publikumBillet from "/public/publikum-billet.webp";
import billetMobile from "/public/billet-mobil.webp";
import billet from "/public/billet.webp";
import billetZoomMobile from "/public/billet-zoom-mobil.webp";
import solidMobile from "/public/solid-mobil.webp";
import hat from "/public/hat.svg";

import Introduktion from "../components/Introduktion.astro";
import Sektion1 from "../components/Sektion1.astro";
import Sektion2 from "../components/Sektion2.astro";
import Sektion3 from "../components/Sektion3.astro";
import Sektion4 from "../components/Sektion4.astro";
import Sektion5 from "../components/Sektion5.astro";
import Sektion6 from "../components/Sektion6.astro";
import Sektion7 from "../components/Sektion7.astro";
import Sektion8 from "../components/Sektion8.astro";
import Sektion9 from "../components/Sektion9.astro";

function changeImage(){
  document.getElementById("audio-global-mute").style.visibility = 'hidden';
  document.getElementById("audio-global").style.visibility = 'visible';
} 
---

<MainLayout title="DHV – Historisk Fællesskab | Kampagne">

   <Introduktion></Introduktion>
    

<!-- 1. Hero sektion -->
<section id="section1" class="section1">
    <Sektion1></Sektion1>
</section>

<!-- Gradient overgang -->
        <div class="h-64 lg:-mb-28 bg-gradient-to-b from-[#d7e3b1]  to-[#fcdee4] lg:from-[#c9d5a3] lg:to-red-100 lg:h-96"></div>

<!-- 2. Dronning sektion -->
<section id="section2" class="section2">
    <Sektion2></Sektion2>
</section>

<!--  3. Krig og forræderi -->
<section id="section3" class="section3">
    <Sektion3></Sektion3>
</section>

<!-- Gradient overgang -->
     <div class="h-72 lg:h-screen bg-gradient-to-b from-[#7c3846] to-brown-100"></div>

<!-- 4. 1954 -->
<section id="section4" class="section4">
     <Sektion4></Sektion4>
</section>

<!--  5. Røgsky - Spændingsmusik -->
<section id="section5" class="section5">
     <Sektion5></Sektion5>


<!-- 6. Gallop afslutning -->

     <Sektion6></Sektion6>
</section>

<!--  Gradient overgang -->
    <div class="h-96 lg:-mb-28 bg-gradient-to-b from-blue-100  to-red-100"></div>

<!-- 8. Kvinde kaster hat med jubel -->
<section id="section8" class="section8">
     <Sektion8></Sektion8>


<!-- Gradient overgang -->
    <div class="h-96 lg:-mb-28 bg-gradient-to-b from-red-100  to-brown-100 "></div>

<!-- 7. Hest nedefra -->

    <Sektion7></Sektion7>
</section>

 <!--  Gradient overgang -->
    <div class="h-96 lg:-mb-28 bg-gradient-to-b from-brown-100  to-red-100 "></div>


<!-- 9. Publikum og billet -->
<section class="section9">
    <div class="overflow-clip bg-red-100">

        <!-- Mobil -->
           <section id="horisontalscrollsection" class="h-[2000vw] lg:hidden">
                <ul id="horisontalliste" class="list-none pl-0 flex sticky top-[0vh]"> 
                    <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto">
                        <Image src= {publikumMobile} class="w-full" alt="foto" loading="lazy" decoding="async">
                        <Image src= {hat} alt="hat" class="absolute pb-80 hat animate-[hat_5s_ease-in-out_infinite]" loading="lazy" decoding="async">
                    </li> 
    
                    <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> 
                        <Image src= {solidMobile} class="w-full" alt="foto" loading="lazy" decoding="async"> 
                    </li> 
                    
                    <li class="flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> <figure class="max-w-[900px]"></figure> 
                        <Image src= {publikumStorMobile} class="w-full" alt="foto" loading="lazy" decoding="async"/> <figcaption class="bg-black-100/80 px-14 py-5 mx-20 text-white-100 absolute top-40 font-sans text-xl text-center w-2/3">Så spørgsmålet er...</figcaption> 
                    </li> 
    
                        <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> 
                            <Image src= {solidMobile} class="w-full" alt="foto"  loading="lazy" decoding="async"> 
                        </li> 
    
                        <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> <figure class="max-w-[800px]"></figure> 
                            <Image src= {publikumBilletMobile} class="w-full" alt="foto" loading="lazy" decoding="async"/>  <figcaption class="bg-black-100/80 px-14 py-5 mx-20 text-white-100 absolute top-40 font-sans text-xl text-center w-2/3">Vil du være en del af dette?</figcaption>
                        </li> 
    
                        <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> 
                            <Image src= {solidMobile} class="w-full" alt="foto"  loading="lazy" decoding="async"> 
                        </li> 
                        <li class="flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto sticky"> <figure class="max-w-[800px]"></figure> 
                            <Image src= {billetMobile} class="w-full" alt="foto" loading="lazy" decoding="async"/> <figcaption class="bg-black-100/80 px-14 py-5 mx-20 text-white-100 absolute top-40 font-sans text-xl text-center w-2/3">Vil du være med til at skabe nye minder sammen?</figcaption> 
                        </li> 
                        <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> 
                            <Image src= {solidMobile} class="w-full" alt="foto" loading="lazy" decoding="async"> 
                        </li> 
                        <li class="flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto sticky"> <figure class="max-w-[800px]"></figure> 
                            <Image src= {billetZoomMobile} class="w-full" alt="foto" loading="lazy" decoding="async"/> <figcaption class="bg-black-100/80 px-14 py-5 mx-20 text-white-100 absolute top-40 font-sans text-xl text-center w-2/3">Lad os fejre livet og lad os fejre traditionen</figcaption> 
                            <!-- Button --> 
                            <div class="absolute inset-0 flex items-center justify-center z-30 top-[10%] lg:top-[20%]"> 
                            <a href="https://www.danskhv.dk/loebskalender/" class="font-sans mx-8 py-5 px-14 bg-green-400 text-green-100 text-center barlow-condensed-bold uppercase text-4xl justify-center rounded-md drop-shadow-md transition duration-400 ease-in-out">
                            Køb nu
                            </a> 
                        </div> 
                    </li> 
                </ul> 
            </section>
      
        <!-- Desktop -->
        <section id="horisontalscrollsectiondesktop" class="h-[600vw] hidden lg:block">
            <ul id="horisontallistedesktop" class="list-none pl-0 flex sticky top-[0vh]">
                <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto"> <figure class="max-w-[800px]"></figure>
                    <Image src={publikum}  class="w-full" alt="foto" loading="lazy" decoding="async" />
    
                    <Image src= {hat} alt="hat" class="absolute pb-80 hat animate-[hat_5s_ease-in-out_infinite]" loading="lazy" decoding="async"/>   
                        <figcaption class="bg-black-100/80 px-14 py-5 mx-20 text-white-100 absolute top-40 font-sans text-xl text-center w-1/3">Så spørgsmålet er... <br>vil du være en del af dette?</figcaption> 
                        
                </li>
    
                <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto">
                    <Image src={solidMobile} class="w-full" alt="foto"  loading="lazy" decoding="async" />
                </li>
    
                <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto">
                    <figure class="max-w-[800px]"></figure>
                    <Image src={publikumStor}class="w-full" alt="foto" loading="lazy" decoding="async"/>
                    <figcaption class="bg-black-100/80 px-14 py-5 mx-20 text-white-100 absolute top-40 font-sans text-xl text-center w-1/3">Vil du være med til at skabe nye minder sammen?</figcaption>
                </li>
                <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto">
                    <Image src={solidMobile} class="w-full" alt="foto" loading="lazy" decoding="async"/>
                </li>
    
                <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto">
                    <figure class="max-w-[800px]"></figure>
                    <Image src={publikumBillet}class="w-full" alt="foto" loading="lazy" decoding="async"/>
                    <figcaption class="bg-black-100/80 px-14 py-5 mx-0 text-white-100 absolute top-40 font-sans text-xl text-center w-1/3">Lad os fejre livet og lad os fejre traditionen</figcaption>
                </li>
                <li class="pl-0 flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto">
                    <Image src={solidMobile} class="w-full" alt="foto" loading="lazy" decoding="async"/>
                </li>
                <li class="flex w-[100vw] h-screen items-start justify-center flex-col overflow-hidden flex-grow-0 flex-shrink-0 flex-auto sticky"> <figure class="max-w-[800px]"></figure> 
                    <Image src={billet} class="w-full" alt="foto" loading="lazy" decoding="async"/>
                    
                    <!-- Button -->
                    <div class="absolute inset-0 flex items-center justify-center z-30 top-[10%] lg:top-[0%]">
                        <a href="https://www.danskhv.dk/loebskalender/" class="font-sans mx-8 py-5 px-14 bg-green-400 hover:bg-red-400 text-green-100 hover:text-red-100 text-center barlow-condensed-bold uppercase text-4xl lg:text-4xl justify-center rounded-md drop-shadow-md transition duration-400 ease-in-out">
                            Køb nu
                        </a>
                    </div>
                </li>
            </ul>
        </section>
      </div>
</section>
 
</MainLayout>


<script>
function changeImage(){
  document.getElementById("audio-global-mute").style.visibility = 'hidden';
  document.getElementById("audio-global").style.visibility = 'visible';
} 

import { animate, inView, scroll } from "motion";

const baggrundslydknap = document.getElementById("audio-global-button");
const headsetButton = document.getElementById("audio-global-button2");
var baggrundslyd = new Audio('https://lna-mediedesign.dk/section1.mp3');
var afspillerlyd = false;

// Event listener to start playing the sound when the headset button is clicked
headsetButton.addEventListener("click", function() {
    if (!afspillerlyd) {
        baggrundslyd.play();
    }
});

// Toggle play/pause when the sound-off button is clicked
baggrundslydknap.addEventListener("click", toggleafspil);

function toggleafspil() {
    if (afspillerlyd) {
        baggrundslyd.pause();
    } else {
        baggrundslyd.play();
    }
}

// Update the button icon when the sound starts playing
baggrundslyd.onplaying = function() {
    afspillerlyd = true;
    // Update the icon to 'sound on'
    baggrundslydknap.src = '/sound-on.webp';
};

// Update the button icon when the sound is paused
baggrundslyd.onpause = function() {
    afspillerlyd = false;
    // Update the icon to 'sound off'
    baggrundslydknap.src = '/sound-off.webp';
};



    scroll( animate(".progress-bar", { scaleX: [0, 1] }));

    inView( ".intro", () =>{
        console.log("intro");
        baggrundslyd.src="https://idahallback-multimedieeksamen.netlify.app/introduktion-musik.m4a";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

    inView( ".section1", () =>{
        console.log("section1");
        baggrundslyd.src="https://lna-mediedesign.dk/section1.mp3";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

    inView( ".section2", () =>{
        console.log("section2");
        baggrundslyd.src="https://lna-mediedesign.dk/sound-dronning.mp3";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

    inView( ".section3", () =>{
        console.log("section3");
        baggrundslyd.src="https://lna-mediedesign.dk/section3.mp3";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

    inView( ".section4", () =>{
        console.log("section4");
        baggrundslyd.src="https://lna-mediedesign.dk/1954.mp3";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

    inView( ".section5", () =>{
        console.log("section5");
        baggrundslyd.src="https://lna-mediedesign.dk/hest-ind3.mp3";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

    inView( ".section8", () =>{
        console.log("section8");
        baggrundslyd.src="https://lna-mediedesign.dk/hat.mp3";
        if (afspillerlyd) {
            baggrundslyd.play();
        }
    });

     inView( ".section9", () =>{
        console.log("section9");
        baggrundslyd.src="https://lna-mediedesign.dk/publikum.mp3";
         if (afspillerlyd) {
             baggrundslyd.play();
         }
     });

    inView( ".lookinview", () =>{
    animate( ".look1", { x: [0, 0 ], y: [0, 50 ] }, { duration: 1 }) 
    

    return () => {
        animate( ".look1", { x: [0, 0 ], y: [0, 50 ] }, { duration: 1 })
    }
    })

    inView( ".jumpinview", () =>{
    animate( ".jump1", { x: [0, 0 ], y: [800, -1500 ] }, { duration: 4, delay: 2 }) 
    

    return () => {
        animate( ".jump1", { x: [0, 0 ], y: [700, -1500 ] }, { duration: 4 })
    }
    })

    inView( ".jumpinview", () =>{
    animate( ".jump2", { x: [0, 0 ], y: [800, -1500 ] }, { duration: 5, delay: 3 }) 
    

    return () => {
        animate( ".jump2", { x: [0, 0 ], y: [700, -1500 ] }, { duration: 5 })
    }
    })

    inView( ".hatinview", () =>{
    animate( ".hat", { x: [-100, 100 ], y: [10, -15 ] }, { duration: 5, delay: 3 }) 
    

    return () => {
        animate( ".hat", { x: [10, 40 ], y: [700, -1500 ] }, { duration: 5 })
    }
    })

    scroll(
    animate(".scrollzoomimg", { 
        scale: [1, 20]    
    }),
    { 
      target: document.querySelector(".scrollzoom"),
      offset: ["0.90 end", "end end"]
    }
    )

    /* Horisontal scroll sektion */
    scroll(
          animate("#horisontalliste", {
              transform: ["none", "translateX(-800vw)"]
          }),
          { target: document.querySelector("#horisontalscrollsection") }
      ); 
  
      /* Horisontal scroll sektion */
      scroll(
          animate("#horisontallistedesktop", {
              transform: ["none", "translateX(-600vw)"]
          }),
          { target: document.querySelector("#horisontalscrollsectiondesktop") }
      );

</script>
